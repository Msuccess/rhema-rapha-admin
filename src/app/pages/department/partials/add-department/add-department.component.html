<div class="dialog-content-wrapper">

  <h2 mat-dialog-title>
    <span *ngIf="updating$ | async">Update Department</span>
    <span *ngIf="!(updating$ | async)">Add Department</span>
  </h2>
  <div mat-dialog-content class="mat-typography">

    <form [formGroup]="departmentForm">
      <div *ngIf="hasFormErrors">
        <ngb-alert type="danger" (close)="close($event)">
          <span class="font-weight-bold">{{ errors | async  }}
          </span>
        </ngb-alert>
      </div>

      <div class="form-group">
        <mat-form-field appearance="outline">
          <mat-label>Name</mat-label>
          <input matInput type="text" placeholder="Name" formControlName="name" autocomplete="off" />
          <mat-error *ngIf="isControlHasError('name','required')">
            <strong>Email required</strong>
          </mat-error>
        </mat-form-field>
      </div>

      <div class="form-group">
        <mat-form-field appearance="outline">
          <mat-label>Description</mat-label>
          <textarea matInput placeholder="Description" rows="2" formControlName="description"></textarea>
          <mat-error *ngIf="isControlHasError('description','required')">
            <strong>Description required</strong>
          </mat-error>
        </mat-form-field>
      </div>

    </form>
  </div>
  <div mat-dialog-actions class="mb-1">
    <button mat-button cdkFocusInitial class="btn btn-primary" (click)="submit()">
      <span *ngIf="!(loading|async)">Submit</span>
      <div class="spinner-border text-light" role="status" *ngIf="(loading|async)">
        <span class="sr-only">Loading...</span>
      </div>
    </button> &nbsp; &nbsp;
    <button mat-dialog-close class="btn btn-danger">Cancel</button>
  </div>

</div>
